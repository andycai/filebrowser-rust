<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文件浏览器</title>
    <link rel="stylesheet" href="/static/default/style.css">
</head>
<body>
    <!-- 顶部标题栏 -->
    <header class="titlebar">
        <div class="titlebar-left">
            <button id="sidebarToggle" class="btn-icon" title="切换侧边栏">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M3 3h10v1H3V3zm0 4h10v1H3V7zm0 4h6v1H3v-1z"/>
                </svg>
            </button>
            <h1>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="vertical-align: middle; margin-right: 4px;">
                    <path d="M14.5 3H7.707L6.354 1.646A.5.5 0 006 1.5H1.5A.5.5 0 001 2v12a.5.5 0 00.5.5h13a.5.5 0 00.5-.5V3.5a.5.5 0 00-.5-.5zM2 2h4.293l1.354 1.354a.5.5 0 00.353.146H14v10H2V2z"/>
                </svg>
                文件浏览器
            </h1>
        </div>
        <div class="titlebar-center">
            <div class="breadcrumb" id="breadcrumb"></div>
        </div>
        <div class="titlebar-right">
            <select id="rootSelect" class="root-select-compact">
                <option value="">加载中...</option>
            </select>
        </div>
    </header>

    <!-- 主容器 -->
    <div class="main-container">
        <!-- 左侧侧边栏 -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-resize-handle" id="sidebarResizeHandle"></div>
            <div class="sidebar-header">
                <h2>文件列表</h2>
            </div>
            <div class="sidebar-toolbar">
                <button id="refreshBtn" class="btn btn-small" title="刷新">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #4ec9b0;">
                        <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                        <path d="M3 3v5h5"/>
                        <path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/>
                        <path d="M16 16h5v5"/>
                    </svg>
                </button>
                <button id="upBtn" class="btn btn-small" title="返回上级">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #3794ff;">
                        <path d="m15 18-6-6 6-6"/>
                    </svg>
                </button>
                <div class="toolbar-spacer"></div>
                <button id="createFileBtn" class="btn btn-small" title="新建文件">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #4ec9b0;">
                        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="12" y1="18" x2="12" y2="12"/>
                        <line x1="9" y1="15" x2="15" y2="15"/>
                    </svg>
                </button>
                <button id="createDirBtn" class="btn btn-small" title="新建文件夹">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #dcb67a;">
                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                        <line x1="12" y1="11" x2="12" y2="17"/>
                        <line x1="9" y1="14" x2="15" y2="14"/>
                    </svg>
                </button>
                <button id="uploadBtn" class="btn btn-small" title="上传文件">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #3794ff;">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="17 8 12 3 7 8"/>
                        <line x1="12" y1="3" x2="12" y2="15"/>
                    </svg>
                </button>
                <input type="file" id="fileInput" style="display: none;" multiple>
            </div>
            <div class="file-list" id="fileList"></div>
            <div class="upload-progress" id="uploadProgress" style="display: none;"></div>
        </aside>

        <!-- 右侧内容区域 -->
        <main id="mainContent" class="main-content">
            <!-- 文件内容视图 -->
            <div id="contentView" class="content-view">
                <!-- 顶部工具栏 -->
                <div class="content-toolbar">
                    <button id="editFileBtn" class="btn btn-small" title="编辑" style="display: none;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #75beff;">
                            <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/>
                        </svg>
                    </button>
                    <button id="advancedEditBtn" class="btn btn-small" title="高级编辑(JSON)" style="display: none;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #f1dd3f;">
                            <polyline points="16 18 22 12 16 6"/>
                            <polyline points="8 6 2 12 8 18"/>
                        </svg>
                        高级编辑
                    </button>
                    <button id="saveFileBtn" class="btn btn-small btn-primary" title="保存" style="display: none;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        保存
                    </button>
                    <span id="fileName" class="file-name"></span>
                    <span id="fileInfo" class="file-info"></span>
                    <div class="toolbar-spacer"></div>
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="搜索..." class="search-input">
                        <button id="searchBtn" class="btn btn-small btn-primary" title="搜索">
                            <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M11.742 10.344a6.5 6.5 0 10-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 001.415-1.414l-3.85-3.85a1.007 1.007 0 00-.115-.1zM12 6.5a5.5 5.0 11-11 0 5.5 5.5 0 0111 0z"/>
                            </svg>
                        </button>
                    </div>
                    <div class="search-nav" id="searchNav" style="display: none;">
                        <button id="prevResultBtn" class="btn btn-small" title="上一个结果">↑</button>
                        <span id="searchNavInfo" class="search-nav-info">0/0</span>
                        <button id="nextResultBtn" class="btn btn-small" title="下一个结果">↓</button>
                    </div>
                </div>

                <!-- 搜索结果 -->
                <div class="search-results" id="searchResults" style="display: none;"></div>

                <!-- 文件内容 -->
                <div class="file-content-wrapper">
                    <pre id="fileContent" class="file-content"></pre>
                    <textarea id="fileEditor" class="file-content" style="display: none;"></textarea>
                </div>

                <!-- 分页控件 -->
                <div class="pagination-overlay">
                    <div class="pagination" id="pagination"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading -->
    <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
    </div>

    <script src="/static/default/app.js?v=8"></script>
</body>
</html>
